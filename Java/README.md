# Java

## 메모리 구조

* [Java 소프트웨어(JRE, JDK, Server-JRE) 차이](#Java-소프트웨어(JRE,-JDK,-Server-JRE)-차이)
* [Java 컴파일러(Java Compiler)와 JVM(Java Virtual Machine)](#Java-컴파일러(Java-Compiler)와-JVM(Java-Virtual-Machine))
* [.java 파일과 .class 파일의 차이, 먼저 컴파일하는 이유](#.java-파일과-.class-파일의-차이,-먼저-컴파일하는-이유)
* [Windows 운영체제에서 컴파일(compile)할 때 문자열 깨지는 이유](#Windows-운영체제에서-컴파일(compile)할-때-문자열-깨지는-이유)
* [java파일과 class파일 폴더 구분하기](#java파일과-class파일-폴더-구분하기)
* [패키지(package)가 있는 이유](#패키지(package)가-있는-이유)
* [가비지 컬렉터(Garbage Collector)란?](#가비지-컬렉터(Garbage-Collector)란?)
* [Java의 메모리 구조](#Java의-메모리-구조)
* [데이터 타입 분류](#데이터-타입-분류)
* [클래스 패스(Class Path)와 환경 변수 설정](#클래스-패스(Class-Path)와-환경-변수-설정)


## Java 소프트웨어(JRE, JDK, Server-JRE) 차이
## Java 컴파일러(Java Compiler)와 JVM(Java Virtual Machine)
## .java 파일과 .class 파일의 차이, 먼저 컴파일하는 이유
## Windows 운영체제에서 컴파일(compile)할 때 문자열 깨지는 이유
## java파일과 class파일 폴더 구분하기 
## 패키지(package)가 있는 이유
## 가비지 컬렉터(Garbage Collector)란?

***

<br>

## **Java의 메모리 구조**


```Markdown
메모리 구조의 공부 필요성

* 메모리 관리 부족으로 서비스 속도 저하에서부터 심하게는 서버 불능 상태에 이르기도 한다.

* 이러한 문제점이 일어나지 않고, 또한 한정된 자원에서 효율적으로 메모리를 사용하여 성능 향상도 가능하다.
```

자바 프로그램이 실행되면, JVM은 OS로부터 해당 프로그램을 수행할 수 있도록 필요한 메모리를 할당받는다. JVM은 OS에서 할당받은 메모리 영영(Runtime Data Area)을 세 영역으로 구분한다.

### **메소드(method) 영역**

메소드(method) 영역은 자바 프로그램에서 사용되는 클래스에 대한 정보와 함께 **클래스 변수(static variable)**가 저장되는 영역으로, 자바 프로그램에서 특정 클래스가 사용되면 해당 클래스의 클래스 파일(*.class)를 읽어들여, 해당 클래스에 대한 정보를 메소드 영역에 저장한다.

### **힙(heap) 영역**
힙(heap) 영역은 자바 프로그램에서 사용되는 모든 인스턴스 변수(객체)가 저장되는 영역으로, 자바 프로그램에서 **new 키워드**를 사용하여 인스턴스가 생성되면, 해당 **인스턴스의 정보를 힙 영역에 저장**한다.
또한, 사용되지 않는 객체는 GC가 자동으로 제거한다.

### **스택(stack) 영역**
스택(stack) 영역은 자바 프로그램에서 메소드가 호출될 때 메소드의 스택 프레임이 저장되는 영역으로, 메소드가 호출되면, **메소드의 호출과 관계되는 지역 변수와 매개변수를 스택 영역에 저장**한다.

스택 영역은 메소드의 호출과 함께 할당되며, 메소드의 호출이 완료되면 소멸한다. 이렇게 스택 영역에 저장되는 메소드의 호출 정보를 스택 프레임(stack frame)이라고 한다.

## **변수의 종류**
변수의 생명주기가 다르기 때문에 이름을 이와 같이 부른다.

### **지역 변수(local variables)**
중괄호 내에서 선언된 변수
지역 변수를 선언한 중괄호 내에서만 유효하다.

### **매개 변수(parameters)**
메소드나 생성자에 넘겨주는 변수 
메소드가 호출될 때 생명이 시작되고, 메소드가 끝나면 소멸된다.

### **인스턴스 변수(instance variables)**
메소드 밖에, 클래스 안에 선언된 변수로, 앞에는 static(정적)이라는 예약어가 없어야한다.
객체가 생성될 때 생명이 시작되고, 그 객체를 참조하고 있는 다른 객체가 없으면 소멸된다.

### **클래스 변수(class variables)**
인스턴스 변수처럼 메소드 밖에, 클래스 안에 선언된 변수 중에서 타입 선언앞에 static 이라는 예약어가 있는 변수
클래스가 생성될 때 생명이 시작되고, 자바 프로그램이 끝날 떄 소멸된다.


```java
class VariableTypes{
    int instance; //인스턴스(객체) 변수
    static int class //스태틱(클래스) 변수

    public void method(int parameter //매개 변수) {
        int local //지역 변수
    }
}
```
### **스택(stack) 영역**

스택 영역에는 지역변수와 매개변수가 저장된다.
지역변수와 매개변수는 변수가 선언된 블록 안에서만 유효하다. 스택 영역에는 프로그램의 실행 과정에서 '임시로 할당'되고 그게 끝나면 바로 소멸되는 것들이 저장된다.
즉, 메소드가 호출될 때마다 그 메소드의 로컬 변수를 준비하고, 메소드 호출이 끝나면 그 메소드를 위해 준비했던 모든 변수가 스택에서 제거된다.
또한, 참조변수에 저장되는 메모리주소는 스택영역에 저장되지만, 그 주소가 가리키는 메모리는 모두 힙 영역에 저장된다.

### **힙(heap) 영역**

힙 영역에는 흔히 코드에서 'new'명령을 통해 생성된 인스턴스 변수가 놓인다.
스택영역에 저장되는 로컬변수, 매게변수와 달리, 힙 영역에 보관되는 메모리는 메소드 호출이 끝나도 사라지지 않고 유지된다.

언제까지??

주소를 잃어버려 가비지가 되어 GC에 의해서 지워질 때까지. 
아니면 JVM이 종료될때까지.

<참고2> 

이미 알고 있으리라 믿지만.

8가지 원시타입(byte, short, int, long, float, double, char, boolean)을 제외한 그외의 타입으로 정의된 변수들은 
모조리 레퍼런스 변수, 즉 참조변수이다.

이런 참조변수들은 실행될 때마다 많은 데이터들을 스택메모리 영역에 뒀다 뺐다 하는게 매우 비효율적이므로,
힙 영역에 그 내용(진짜 값)이 저장되고, 스택 메모리에는 간단하게 그 주소만 저장이 되는 것이다.

그리고 힙 영역에는 실제 그 변수가 가리키고 있는 값들이 저장되어 있다.

정리

스택 영역의 지역변수들은 메소드가 호출되고 끝이 나는 프로그램의 실행 흐름에 관여하는 것들이고
힙 영역의 인스턴스들은지역변수가 참조하고 있는 실제의 값들을 가지고 있다.


## 데이터 타입 분류
## 클래스 패스(Class Path)와 환경 변수 설정


출처
https://m.blog.naver.com/PostView.nhn?blogId=rudtjq5724&logNo=220747685305&proxyReferer=https:%2F%2Fwww.google.com%2F
https://blog.wanzargen.me/category/Programming/Java